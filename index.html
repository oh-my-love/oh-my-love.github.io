<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>田奇 💘💘 李谊成</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
  <!-- Link Swiper's CSS -->
  <link href="https://cdn.bootcss.com/Swiper/4.5.0/css/swiper.min.css" rel="stylesheet">

  <!-- Demo styles -->
  <style>
    html, body {
      position: relative;
      height: 100%;
      padding-bottom: 45px;
      box-sizing: border-box;
    }
    body {
      background: #000;
      font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
      font-size: 14px;
      color:#000;
      margin: 0;
      padding: 0;
    }
    .swiper-container {
      width: 100%;
      height: 100%;
      margin-left: auto;
      margin-right: auto;
    }
    .swiper-slide {
      text-align: center;
      font-size: 18px;
      background-size: cover;
      background-position: center;
    }
    .swiper-slide img {
      width: 100%;
      height: auto;
      max-width: 100%;
      max-height: 100%;
      -ms-transform: translate(-50%, -50%);
      -webkit-transform: translate(-50%, -50%);
      -moz-transform: translate(-50%, -50%);
      transform: translate(-50%, -50%);
      position: absolute;
      left: 50%;
      top: 50%;
    }
    .gallery-top {
      height: 85%;
      width: 100%;
    }
    .gallery-thumbs {
      height: 15%;
      box-sizing: border-box;
      padding: 10px 0;
    }
    .gallery-thumbs .swiper-slide {
      height: 100%;
      opacity: 0.4;
    }
    .gallery-thumbs .swiper-slide-thumb-active {
      opacity: 1;
    }
    #typed-wrap{
      height:100%;
      width:100%;
      position:fixed;
      background-size: cover;
      background-position: center;
      z-index:2019;
    }
    #typed{
      white-space: pre;
      line-height: 50px;
      color:red;
      font-size:20px;
      position:absolute;
      top:40%;
      left:9%;
    }
  </style>
</head>
<body>
  <!-- welcome -->
  <div id="typed-wrap">
    <span id="typed"></span>
  </div>
  <audio id="song" preload="auto" src="http://t.cn/AiOlITgl" loop="true"></audio>
  <!-- Swiper -->
  <div class="swiper-container gallery-top">
    <div id="gallery-top" class="swiper-wrapper">
      <!-- 相册 -->
    </div>
    <!-- Navigation -->
    <div class="swiper-button-next swiper-button-white"></div>
    <div class="swiper-button-prev swiper-button-white"></div>
  </div>
  <div class="swiper-container gallery-thumbs">
    <div id="gallery-thumbs" class="swiper-wrapper">
      <!-- 缩略图 -->
    </div>
  </div>

  <!-- Swiper JS -->
  <script src="https://cdn.bootcss.com/Swiper/4.5.0/js/swiper.min.js"></script>
  <script src="https://cdn.bootcss.com/typed.js/2.0.10/typed.min.js"></script>
  <script src="https://cdn.bootcss.com/velocity/2.0.5/velocity.min.js"></script>
  <script src="https://cdn.bootcss.com/velocity/2.0.5/velocity.ui.min.js"></script>
  <!-- Initialize Swiper -->
  <script>
    var played = false;
    function playSong(){
    	if(!played){
	  try{
	    document.getElementById('song').play();
	    played = true;
	  }catch(e){
	    console.log(e);
	  }
	}
    }
    document.addEventListener("touchstart", function(){
      playSong();
    }, true);
    document.addEventListener("WeixinJSBridgeReady", function () {
      playSong();
    }, false);
    //图片地址
    var images = [
    	    'http://qpic.cn/J2GAlkx6X',
	    'http://qpic.cn/AvFinIA5X',
	    'http://qpic.cn/cgwMG5Irj',
	    'http://qpic.cn/9wDaViHov',
	    'http://qpic.cn/6fRqA12h3',
	    'http://qpic.cn/9DvL6SeyY'
    	];
    //创建相册DOM
    function createGalleryDOM(){
      var gallery = [];
      for(var i = 0 ; i < images.length ; i++ ){
        gallery.push('<div class="swiper-slide">');
	gallery.push('  <img data-src="'+images[i]+'" class="swiper-lazy">');
	gallery.push('  <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>');
	gallery.push('</div>');
      }
      var photosHTML = gallery.join("");
      document.getElementById("gallery-top").innerHTML = photosHTML;
      document.getElementById("gallery-thumbs").innerHTML = photosHTML;
    }
    //--创建页面监听，等待微信端页面加载完毕 触发音频播放
    document.addEventListener('DOMContentLoaded', function () {
      var heart = new Image();
      //等待背景加载完成
      heart.onload = function(){
          document.getElementById("typed-wrap").style.backgroundImage = "url("+heart.src+")";
	  var typed = new Typed('#typed', {
        	strings: ['<i>I <b>love</b> you not because of who you </i>\n<i>are, ^500but because of who I am when</i> \n<i>I am with <b>you</b></i>\n\n\t\t\tMr.Tian^500💘^500💘Ms.Li^2019'],
		typeSpeed:150,
		startDelay:200,
		onComplete:function(that){
	  	  Velocity(document.getElementById("typed-wrap"),"zoomOut");
	  	  that.destroy();
	        }
      	  });
	  //创建相册DOM元素
	  createGalleryDOM();
	  //缩略图
	  var thumbs = new Swiper('.gallery-thumbs', {
		   spaceBetween: 10,
		   slidesPerView: 4,
		   loop: true,
		   freeMode: true,
		   loopedSlides: 5, //looped slides should be the same
		   watchSlidesVisibility: true,
		   watchSlidesProgress: true,
		   lazy: true,
		});
	  //大图
	  var swiper = new Swiper('.gallery-top', {
		 // Enable lazy loading
		 lazy: true,
		 <!-- pagination: { -->
		 <!-- el: '.swiper-pagination', -->
		 <!-- clickable: true, -->
		 <!-- }, -->
		 spaceBetween: 10,
		 loop:true,
		 loopedSlides: 5, //looped slides should be the same
		 navigation: {
		   nextEl: '.swiper-button-next',
		   prevEl: '.swiper-button-prev',
		 },
		 thumbs: {
		   swiper: thumbs,
		 }
	  });
      }
      heart.src = "http://qpic.cn/yzzsdIGAf";
    });
    
  </script>
</body>
</html>
