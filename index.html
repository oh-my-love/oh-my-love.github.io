<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>ç”°å¥‡ ğŸ’˜ğŸ’˜ æè°Šæˆ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
  <!-- Link Swiper's CSS -->
  <link href="https://cdn.bootcss.com/Swiper/4.5.0/css/swiper.min.css" rel="stylesheet">
  <script src="https://cdn.bootcss.com/Swiper/4.5.0/js/swiper.min.js"></script>
  <script src="https://cdn.bootcss.com/typed.js/2.0.10/typed.min.js"></script>
  <script src="https://cdn.bootcss.com/velocity/2.0.5/velocity.min.js"></script>
  <script src="https://cdn.bootcss.com/velocity/2.0.5/velocity.ui.min.js"></script>
  <style type="text/css">
    html, body {
      position: relative;
      height: 100%;
      padding-bottom: 45px;
      box-sizing: border-box;
    }
    body {
      background: #000;
      font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
      font-size: 14px;
      color:#000;
      margin: 0;
      padding: 0;
    }
    .swiper-container {
      width: 100%;
      height: 100%;
      margin-left: auto;
      margin-right: auto;
    }
    .swiper-slide {
      text-align: center;
      font-size: 18px;
      background-size: cover;
      background-position: center;
    }
    .swiper-slide img {
      width: 100%;
      height: auto;
      max-width: 100%;
      max-height: 100%;
      -ms-transform: translate(-50%, -50%);
      -webkit-transform: translate(-50%, -50%);
      -moz-transform: translate(-50%, -50%);
      transform: translate(-50%, -50%);
      position: absolute;
      left: 50%;
      top: 50%;
    }
    .gallery-top {
      height: 100%;
      width: 100%;
    }

    #typed-wrap{
      height:100%;
      width:100%;
      position:fixed;
      background-size: cover;
      background-position: center;
      z-index:2019;
    }
    #typed{
      white-space: pre;
      line-height: 50px;
      color:red;
      font-size:20px;
      position:absolute;
      top:40%;
      left:9%;
    }
  </style>
	
  <script type="text/javascript">
    //å›¾ç‰‡åœ°å€
    var images = [
    	    'http://qpic.cn/z0yLgbDRO',
	    'http://qpic.cn/zx2IhNbPZ',
	    'http://qpic.cn/S4NoXHFmb',
	    'http://qpic.cn/OqYZixPP6',
	    'http://qpic.cn/HfceZrewS',
	    'http://qpic.cn/seEDVOBSv',
	    'http://qpic.cn/1x4vHh1Dq',
	    'http://qpic.cn/OldbwytRD',
	    'http://qpic.cn/733DXjeMD',
	    'http://qpic.cn/e7WJBzN3M',
	    'http://qpic.cn/i8Z5nCrTv',
	    'http://qpic.cn/fxi5TlW5I',
	    'http://qpic.cn/D48SqnXn4',
	    'http://qpic.cn/w4rt85kiW',
	    'http://qpic.cn/UyWj06OGX',
	    'http://qpic.cn/UBIpzQqAf',
	    'http://qpic.cn/UhnomEckQ',
	    'http://qpic.cn/rl6jYgGmu',
	    'http://qpic.cn/935BE4yhN',
	    'http://qpic.cn/ZDLANyNrW',
	    'http://qpic.cn/aguHFG7J1',
	    'http://qpic.cn/MyOUTwAip',
	    'http://qpic.cn/GC3kNYlVN',
	    'http://qpic.cn/EhXeI2SU3',
	    'http://qpic.cn/c2ZK6trq1',
	    'http://qpic.cn/BfW5Xt23d',
	    'http://qpic.cn/v8mbUicoT',
	    'http://qpic.cn/0v5kTBuIm',
	    'http://qpic.cn/PncYHprSr',
	    'http://qpic.cn/p7herHoHh',
	    'http://qpic.cn/w6pb3qA71',
	    'http://qpic.cn/cye6ULcJp',
	    'http://qpic.cn/WvbyZTSx9',
	    'http://qpic.cn/ehxvrFbjh',
	    'http://qpic.cn/WdtgKRjU4',
	    'http://qpic.cn/W8NH6dZ9e'
    	];
    var played = false;
    function playSong(){
    	if(!played){
	  try{
	    document.getElementById('song').play();
	    played = true;
	  }catch(e){
	    console.log(e);
	  }
	}
    }
    document.addEventListener("touchstart", function(){
      playSong();
    }, true);
    document.addEventListener("WeixinJSBridgeReady", function () {
      playSong();
    }, false);
    
    //åˆ›å»ºç›¸å†ŒDOM
    function createGalleryDOM(){
      var gallery = [];
      for(var i = 0 ; i < images.length ; i++ ){
        gallery.push('<div class="swiper-slide">');
	gallery.push('  <img data-src="'+images[i]+'" class="swiper-lazy">');
	gallery.push('  <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>');
	gallery.push('</div>');
      }
      var photosHTML = gallery.join("");
      document.getElementById("gallery-top").innerHTML = photosHTML;
    }
    //--åˆ›å»ºé¡µé¢ç›‘å¬ï¼Œç­‰å¾…å¾®ä¿¡ç«¯é¡µé¢åŠ è½½å®Œæ¯• è§¦å‘éŸ³é¢‘æ’­æ”¾
    document.addEventListener('DOMContentLoaded', function () {
      var heart = new Image();
      //ç­‰å¾…èƒŒæ™¯åŠ è½½å®Œæˆ
      heart.onload = function(){
          document.getElementById("typed-wrap").style.backgroundImage = "url("+heart.src+")";
	  var typed = new Typed('#typed', {
        	strings: ['<i>I <b>love</b> you not because of who you </i>\n<i>are, ^500but because of who I am when</i> \n<i>I am with <b>you</b></i>\n\n\t\t\t<i><b>Mr.Tian</b></i>^500ğŸ’˜^500ğŸ’˜<i><b>Ms.Li</b></i>^2019'],
		typeSpeed:150,
		startDelay:200,
		onComplete:function(that){
	  	  Velocity(document.getElementById("typed-wrap"), "zoomOut");
	  	  that.destroy();
	        }
      	  });
	  //åˆ›å»ºç›¸å†ŒDOMå…ƒç´ 
	  createGalleryDOM();
	  //å¤§å›¾
	  var swiper = new Swiper('.gallery-top', {
		 // Enable lazy loading
		 lazy: true,
		 pagination: {
		   el: '.swiper-pagination',
		   clickable: true,
		 },
		 loop:true,
		 navigation: {
		   nextEl: '.swiper-button-next',
		   prevEl: '.swiper-button-prev',
		 }
	  });
      }
      heart.src = "http://qpic.cn/yzzsdIGAf";
    });
    
  </script>
</head>
<body>
  <div id="typed-wrap">
    <span id="typed"></span>
  </div>
  <audio id="song" preload="auto" src="https://always-love-you.gitee.io/wephotos/burning.mp3" loop="true"></audio>
  <div class="swiper-container gallery-top">
    <div id="gallery-top" class="swiper-wrapper"></div>
    <div class="swiper-pagination swiper-pagination-white"></div>
    <div class="swiper-button-next swiper-button-white"></div>
    <div class="swiper-button-prev swiper-button-white"></div>
  </div>
</body>
</html>
